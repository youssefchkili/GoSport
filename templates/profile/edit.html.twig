{% extends 'coolBase.html.twig' %}

{% block title %}Edit Profile{% endblock %}
{% block stylesheets %}
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            10:'#000000',
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    }
                }
            }
        }
    </script>
{% endblock %}

{% block body %}
    <div class="min-h-screen bg-gradient-to-br from-dark-10 via-dark-10 to-dark-10">
        <!-- Background Pattern -->
        <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.02"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-50"></div>

    <section class="py-8 relative z-10">
        <div class="container mx-auto px-4">
            <!-- Breadcrumbs -->
            <nav class="bg-dark-800/50 backdrop-blur-sm border border-dark-700/50 rounded-xl p-4 shadow-lg mb-8">
                <ol class="flex items-center space-x-2 text-sm">
                    <li>
                        <a href="{{ path('app_home') }}" class="text-blue-400 hover:text-blue-300 transition-colors duration-200 flex items-center">
                            <i class="fas fa-home mr-1"></i>
                            Home
                        </a>
                    </li>
                    <li class="text-dark-400">
                        <i class="fas fa-chevron-right text-xs"></i>
                    </li>
                    <li>
                        <a href="{{ path('app_profile') }}" class="text-blue-400 hover:text-blue-300 transition-colors duration-200 flex items-center">
                            <i class="fas fa-user mr-1"></i>
                            Profile
                        </a>
                    </li>
                    <li class="text-dark-400">
                        <i class="fas fa-chevron-right text-xs"></i>
                    </li>
                    <li class="text-dark-300 font-medium" aria-current="page">
                        <i class="fas fa-edit mr-1"></i>
                        Edit Profile
                    </li>
                </ol>
            </nav>

            <!-- Flash Messages -->
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="mb-6 animate-fade-in">
                        {% if label == 'success' %}
                            <div class="bg-green-900/50 border border-green-700/50 text-green-300 px-6 py-4 rounded-xl backdrop-blur-sm shadow-lg flex items-center" role="alert">
                                <i class="fas fa-check-circle mr-3 text-green-400"></i>
                                <span>{{ message }}</span>
                            </div>
                        {% else %}
                            <div class="bg-red-900/50 border border-red-700/50 text-red-300 px-6 py-4 rounded-xl backdrop-blur-sm shadow-lg flex items-center" role="alert">
                                <i class="fas fa-exclamation-circle mr-3 text-red-400"></i>
                                <span>{{ message }}</span>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            {% endfor %}

            <!-- Main Content -->
            <div class="bg-dark-800/60 backdrop-blur-sm border border-dark-700/50 rounded-2xl shadow-2xl overflow-hidden">
                <!-- Header -->
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6 relative">
                    <div class="absolute inset-0 bg-black/20"></div>
                    <div class="relative">
                        <h1 class="text-3xl font-bold text-white flex items-center">
                            <i class="fas fa-user-edit mr-4 text-blue-200"></i>
                            Edit Your Profile
                        </h1>
                        <p class="text-blue-100 mt-2">Update your personal information and preferences</p>
                    </div>
                </div>

                <!-- Form Content -->
                <div class="p-8">
                    {{ form_start(form, {'attr': {'class': 'space-y-8'}}) }}

                    <!-- Personal Information Section -->
                    <div class="space-y-6">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 bg-blue-600/20 rounded-xl flex items-center justify-center mr-4">
                                <i class="fas fa-user text-blue-400 text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-semibold text-white">Personal Information</h2>
                                <p class="text-dark-300 text-sm">Update your basic profile details</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- First Name -->
                            <div class="space-y-2">
                                {{ form_label(form.first_name, 'First Name', {'label_attr': {'class': 'flex items-center text-sm font-medium text-dark-200 mb-2'}}) }}
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <i class="fas fa-user text-dark-400"></i>
                                    </div>
                                    {{ form_widget(form.first_name, {'attr': {'class': 'w-full pl-12 pr-4 py-3 bg-dark-700/50 border border-dark-600/50 rounded-xl text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200', 'placeholder': 'Enter your first name'}}) }}
                                </div>
                                {{ form_errors(form.first_name, {'attr': {'class': 'text-red-400 text-sm mt-1 flex items-center'}}) }}
                            </div>

                            <!-- Last Name -->
                            <div class="space-y-2">
                                {{ form_label(form.last_name, 'Last Name', {'label_attr': {'class': 'flex items-center text-sm font-medium text-dark-200 mb-2'}}) }}
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <i class="fas fa-user text-dark-400"></i>
                                    </div>
                                    {{ form_widget(form.last_name, {'attr': {'class': 'w-full pl-12 pr-4 py-3 bg-dark-700/50 border border-dark-600/50 rounded-xl text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200', 'placeholder': 'Enter your last name'}}) }}
                                </div>
                                {{ form_errors(form.last_name, {'attr': {'class': 'text-red-400 text-sm mt-1 flex items-center'}}) }}
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information Section -->
                    <div class="space-y-6 pt-6 border-t border-dark-600/30">
                        <div class="flex items-center mb-6">
                            <div class="w-12 h-12 bg-green-600/20 rounded-xl flex items-center justify-center mr-4">
                                <i class="fas fa-address-book text-green-400 text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-semibold text-white">Contact Information</h2>
                                <p class="text-dark-300 text-sm">Manage your contact details</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Email -->
                            <div class="space-y-2">
                                {{ form_label(form.email, 'Email Address', {'label_attr': {'class': 'flex items-center text-sm font-medium text-dark-200 mb-2'}}) }}
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <i class="fas fa-envelope text-dark-400"></i>
                                    </div>
                                    {{ form_widget(form.email, {'attr': {'class': 'w-full pl-12 pr-4 py-3 bg-dark-700/50 border border-dark-600/50 rounded-xl text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200', 'placeholder': 'Enter your email address'}}) }}
                                </div>
                                {{ form_errors(form.email, {'attr': {'class': 'text-red-400 text-sm mt-1 flex items-center'}}) }}
                            </div>

                            <!-- Phone -->
                            <div class="space-y-2">
                                {{ form_label(form.phone, 'Phone Number', {'label_attr': {'class': 'flex items-center text-sm font-medium text-dark-200 mb-2'}}) }}
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <i class="fas fa-phone text-dark-400"></i>
                                    </div>
                                    {{ form_widget(form.phone, {'attr': {'class': 'w-full pl-12 pr-4 py-3 bg-dark-700/50 border border-dark-600/50 rounded-xl text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200', 'placeholder': 'Enter your phone number'}}) }}
                                </div>
                                {{ form_errors(form.phone, {'attr': {'class': 'text-red-400 text-sm mt-1 flex items-center'}}) }}
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row justify-end gap-4 pt-8 border-t border-dark-600/30">
                        <a href="{{ path('app_profile') }}"
                           class="flex items-center justify-center px-6 py-3 bg-dark-700 hover:bg-dark-600 border border-dark-600 hover:border-dark-500 text-dark-200 hover:text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-times mr-2"></i>
                            Cancel
                        </a>
                        <button type="submit"
                                class="flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-save mr-2"></i>
                            Save Changes
                        </button>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>

            <!-- Additional Info Card -->
            <div class="mt-8 bg-dark-800/40 backdrop-blur-sm border border-dark-700/30 rounded-xl p-6">
                <div class="flex items-start">
                    <div class="w-10 h-10 bg-yellow-600/20 rounded-lg flex items-center justify-center mr-4 mt-1">
                        <i class="fas fa-info-circle text-yellow-400"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-white mb-2">Profile Tips</h3>
                        <ul class="text-dark-300 space-y-1 text-sm">
                            <li class="flex items-center">
                                <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                                Keep your email address up to date for important notifications
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                                Add a phone number for better account security
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                                Use your real name for a personalized experience
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    </div>

    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out;
        }
    </style>
{% endblock %}